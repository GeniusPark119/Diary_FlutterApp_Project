# 프로젝트에 도움될 만한 Daily CS 지식 - @Transactional -

Assign: Jaeseong Heo

## **16. @Transactional 은 어떤 기능을 하나요? (23.04.25.tue)**

@Transactional 어노테이션은 SpringFramework에서 제공하는 어노테이션으로 DB 관련 작업을 할 때 사용된다.

@Transactional 어노테이션이 붙은 메서드를 실행할 때 자동으로 트랜잭션을 시작하고 메서드가 예외 없이 종료될 경우 해당 트랜잭션을 commit한다. 만약 메서드 실행 중에 예외가 발생할 경우 rollback한다.

개발자가 직접 트랜잭션을 관리할 필요 없이 Spring이 자동으로 트랜잭션을 처리해준다. 이를 통해 불필요한 트랜잭션 처리 코드를 작성할 필요가 없어 코드의 가독성과 유지보수성이 높아진다.

### @Transactional(readonly=true) 는 어떤 기능인가요? 이게 도움이 되나요?

@Transactional 어노테이션의 속성 중 하나로 이 속성은 트랜잭션을 읽기 전용으로 설정한다. 해당 속성이 true일 경우, 해당 트랜잭션은 읽기 전용으로 데이터베이스에 대한 쓰기나 작업이나 변경 작업이 일어나지 않으므로 해당 트랜잭션에서는 DB 락이 발생하지 않다. 또한 쓰기 작업을 수행하지 않아 롤백이 필요하지 않으므로 성능이 향상된다.

따라서 @Transactional(readonly=true)는 DB 작업이 쓰기 작업이 아닐 경우 사용하면 유용하다. 읽기 전용으로 트랜잭션을 설정하여 성능을 향상시킨다.

### 그런데, 읽기에 트랜잭션을 걸 필요가 있나요? @Transactional을 안 붙이면 되는거 아닐까요?

일반적으로는 읽기 작업은 트랜잭션을 사용하지 않아도 되지만, Spring에서는 모든 DB 접근을 트랜잭션 안에서 실행하도록 권장한다. DB 작업 중 예기치 않은 예외가 발생할 경우에도 데이터의 일관성을 유지하기 위해서이다.

따라서 읽기 작업도 @Transactional 어노테이션을 사용해 트랜잭션 안에서 실행하는 것이 권장된다. 읽기 작업의 경우 readonly=true로 설정하여 성능을 향상시킬 수 있다.

만약 특정 메서드가 트랜잭션을 사용하지 않아도 되는 것이 확실하다면 사용하지 않아도 된다.