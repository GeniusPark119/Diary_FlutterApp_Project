## 230414

DB 설계 이슈 - 정규화 vs 반정규화

1. 유저간 친구관계 단방향, 양방향
    
    Member와 Member의 다대다 관계를 처리하기 위한 Friendship 중간 테이블 생성 예정,
    
    A와 B가 친구일 경우 Friendship 테이블에 A-B와 B-A를 모두 저장해야 할까요?

컨설턴트님 : DB의 로그는 최대한 지우지 않는식으로 진행해야함. 친구추가가 완료되었다고 요청을 지울필욘없고. status를 친구등록완료, 친구요청거절 이런식으로. 저장

정답은없고 서로 정규화,반정규화, 로직의편함, 용량의 낭비 등 장단점이 존재하여 편한걸로 선택하면됨. 컨설턴트님경우 AB BA 있는 ex2 선택예정 

`반정규화쪽` : 개발용이, indexing, 단점 용량&비용 증가, 삭제할 경우는 오히려 더 복잡해짐

정규화 : 용량&비용 감소 삭제 간단, 단점 복잡해지는 쿼리
